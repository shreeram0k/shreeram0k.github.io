<!DOCTYPE html>
<html lang="en">
<head>
	<title>SPI</title>
	<meta charset="UTF-8">
	<meta name="theme-color" content="#ff4b5a" />
	<meta name="viewport" content="width=device-width, initial-scale=1">
<!--===============================================================================================-->
	<link rel="icon" type="image/png" href="favicon.ico"/>
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/bootstrap/css/bootstrap.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.7.0/css/font-awesome.min.css">

	<link rel="stylesheet" type="text/css" href="css/util.css">
	<link rel="stylesheet" type="text/css" href="css/main.css">
<!--===============================================================================================-->
</head>
<body>


	<div class="container-contact100">
		<div class="contact100-map"></div>

		<button class="contact100-btn-show">
			<i class="fa fa-search" aria-hidden="true"></i>
		</button>

		<div class="wrap-contact100">
			<button class="contact100-btn-hide">
				<i class="fa fa-close" aria-hidden="true"></i>
			</button>

			<form id="form" class="contact100-form validate-form" onsubmit="return false;">
				<span class="contact100-form-title">
					Search Pincode Information
				</span>
				<!-- <p id="demo"></p> -->
				<div class="wrap-input100 rs1-wrap-input100 validate-input" data-validate="Pincode is required">
					<span class="label-input100">Hello!</span>
					<input class="input100" type="text" placeholder="Enter Pincode" id="userInput" />
					<span class="focus-input100"></span>
				</div>
				<div class="container-contact100-form-btn">
			    	<input class="contact100-form-btn" type="submit" onclick="searchPincode();" />
				</div>
				<br>
				<div class="wrap-input100 rs1-wrap-input100 validate-input">
					<span class="label-input100">Office name</span>
					<p id="officeName"></p>
				</div>
				<div class="wrap-input100 rs1-wrap-input100 validate-input" >
					<span class="label-input100">Taluk</span>
					<p id="taluk"></p>
				</div>
				<div class="wrap-input100 rs1-wrap-input100 validate-input">
					<span class="label-input100">District Name</span>
					<p id="district"></p>
				</div>
				<div class="wrap-input100 rs1-wrap-input100 validate-input">
					<span class="label-input100">State Name</span>
					<p id="state"></p>
				</div>
			</form>

			<span class="credit">
				SHREERAM <span class="credit-highlight">K</span><br>
			</span>
			<span class="contact100-more">
				USING JSON <span class="contact100-more-highlight">JS</span><br>
			</span>
		</div>
	</div>



	<div id="dropDownSelect1"></div>

<!--===============================================================================================-->
	<script src="vendor/jquery/jquery-3.2.1.min.js"></script>

	<script src="js/main.js"></script>


<script>
function searchPincode() {
	var obj, xmlhttp, myObj, i, j, name, txt = "";
	var officeName, taluk, district, state;

    pincode = document.getElementById("userInput").value;
    // alert(pincode);

    xmlhttp = new XMLHttpRequest();
	xmlhttp.onreadystatechange = function() {
	  if (this.readyState == 4 && this.status == 200) {
	  	myObj = JSON.parse(this.responseText);
		  for (i in myObj.records) {
		  officeName = "<h2>" + myObj.records[i].officename + "</h2>";
		  taluk = "<h2>" + myObj.records[i].taluk + "</h2>";
		  district = "<h2>" + myObj.records[i].districtname + "</h2>";
		  state = "<h2>" + myObj.records[i].statename + "</h2>";
		}


	    document.getElementById("officeName").innerHTML = officeName;
	    document.getElementById("taluk").innerHTML = taluk;
	    document.getElementById("district").innerHTML = district;
	    document.getElementById("state").innerHTML = state;
	  }
	};
	xmlhttp.open("GET", "https://api.data.gov.in/resource/6176ee09-3d56-4a3b-8115-21841576b2f6?api-key=579b464db66ec23bdd000001766f0ab1a97447616d37f7a24aa16ae7&format=json&offset=0&limit=1&filters[pincode]=" + pincode, true);
	xmlhttp.send();
}
</script>
</body>
</html>
